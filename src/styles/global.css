@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;1,9..40,300&display=swap');

@import "tailwindcss";
@plugin "@tailwindcss/typography" {
  max-width: none;
}

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Fonts */
  --font-mono-display: 'JetBrains Mono', ui-monospace, monospace;
  --font-sans-body: 'DM Sans', ui-sans-serif, system-ui, sans-serif;

  /* Container */
  --container-padding: 2rem;
  --container-max-width-2xl: 1400px;

  /* Colors */
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-electric: hsl(var(--electric));
  --color-code-bg: hsl(var(--code-bg));

  /* Border radius — sharp everywhere */
  --radius-lg: var(--radius);
  --radius-md: var(--radius);
  --radius-sm: var(--radius);
}

@layer base {
  /* Dark-first: :root IS the dark palette */
  :root {
    --background: 240 22% 4%;
    --foreground: 210 20% 90%;

    --muted: 230 15% 10%;
    --muted-foreground: 215 12% 50%;

    --popover: 240 22% 4%;
    --popover-foreground: 210 20% 90%;

    --border: 220 14% 14%;
    --input: 220 14% 14%;

    --card: 230 18% 7%;
    --card-foreground: 210 20% 90%;

    --primary: 188 100% 50%;
    --primary-foreground: 240 22% 4%;

    --secondary: 230 15% 12%;
    --secondary-foreground: 210 20% 90%;

    --accent: 188 100% 50%;
    --accent-foreground: 240 22% 4%;

    --destructive: 0 63% 45%;
    --destructive-foreground: 210 40% 98%;

    --ring: 188 100% 50%;

    --radius: 0rem;

    --electric: 188 100% 50%;
    --code-bg: 230 15% 13%;

    color-scheme: dark;
  }

  /* Light mode — applied when .dark class is absent */
  html:not(.dark) {
    --background: 210 20% 97%;
    --foreground: 220 25% 12%;

    --muted: 210 16% 93%;
    --muted-foreground: 215 12% 40%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 25% 12%;

    --border: 210 16% 85%;
    --input: 210 16% 85%;

    --card: 0 0% 100%;
    --card-foreground: 220 25% 12%;

    --primary: 188 80% 36%;
    --primary-foreground: 0 0% 100%;

    --secondary: 210 16% 93%;
    --secondary-foreground: 220 25% 12%;

    --accent: 188 80% 36%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84% 38%;
    --destructive-foreground: 0 0% 100%;

    --ring: 188 80% 36%;

    --radius: 0rem;

    --electric: 188 80% 36%;
    --code-bg: 210 16% 86%;

    color-scheme: light;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans-body);
  }
}

@layer utilities {
  .md-content {
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      @apply scroll-m-20;
      font-family: var(--font-mono-display);
    }
  }
}

/* Grain texture overlay */
@layer utilities {
  .grain {
    position: relative;
  }
  .grain::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 1;
    opacity: 0.04;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    background-repeat: repeat;
    background-size: 256px 256px;
  }
}

/* Dot grid background with mouse parallax support */
@layer utilities {
  .dot-grid {
    --drift-x: 0px;
    --drift-y: 0px;
    background-image: radial-gradient(
      circle,
      hsl(188 100% 50% / 0.15) 1px,
      transparent 1px
    );
    background-size: 28px 28px;
    background-position: calc(50% + var(--drift-x)) calc(50% + var(--drift-y));
    transition: background-position 0.15s ease-out;
  }
}

/* Stroke text for hero */
@layer utilities {
  .text-stroke {
    -webkit-text-stroke: 1.5px hsl(var(--foreground));
    color: transparent;
  }
  .text-stroke-electric {
    -webkit-text-stroke: 1.5px hsl(var(--electric));
    color: transparent;
  }
}

/* Staggered page load animations */
@layer utilities {
  @keyframes fade-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slide-in-left {
    from {
      opacity: 0;
      transform: translateX(-16px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .animate-fade-up {
    animation: fade-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) both;
  }
  .animate-fade-in {
    animation: fade-in 0.5s ease both;
  }
  .animate-slide-left {
    animation: slide-in-left 0.5s cubic-bezier(0.16, 1, 0.3, 1) both;
  }

  .delay-100 { animation-delay: 100ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-400 { animation-delay: 400ms; }
  .delay-500 { animation-delay: 500ms; }
  .delay-600 { animation-delay: 600ms; }
  .delay-700 { animation-delay: 700ms; }
}
