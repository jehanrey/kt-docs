---
import type { MarkdownHeading } from 'astro'

import TOC from './toc.astro'

interface Props {
  headings?: Array<MarkdownHeading>
  minutesRead?: string
  lastModified?: string
}

const { headings, minutesRead, lastModified } = Astro.props
---

<aside class="hidden w-56 shrink-0 py-8 pl-6 md:block">
  <div class="sticky top-20 h-[calc(100vh-8rem)] self-start overflow-y-auto">
    <dl class="space-y-6">
      <div>
        <dt class="font-mono-display text-[10px] font-medium uppercase tracking-[0.15em] text-muted-foreground">
          Last Updated
        </dt>
        <dd class="mt-1 text-sm text-foreground">{lastModified}</dd>
      </div>
      <div>
        <dt class="font-mono-display text-[10px] font-medium uppercase tracking-[0.15em] text-muted-foreground">
          Reading Time
        </dt>
        <dd class="mt-1 text-sm text-foreground">{minutesRead}</dd>
      </div>
      {
        headings?.length && (
          <div>
            <dt class="font-mono-display text-[10px] font-medium uppercase tracking-[0.15em] text-muted-foreground">
              On This Page
            </dt>
            <dd class="mt-2">
              <TOC headings={headings} />
            </dd>
          </div>
        )
      }
    </dl>
  </div>
</aside>
