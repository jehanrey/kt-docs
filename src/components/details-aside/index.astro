---
import type { MarkdownHeading } from 'astro'

import TOC from './toc.astro'

interface Props {
  headings?: Array<MarkdownHeading>
  minutesRead?: string
  lastModified?: string
}

const { headings, minutesRead, lastModified } = Astro.props
---

<aside class="hidden w-56 shrink-0 py-8 pl-6 md:block">
  <div class="sticky top-20 h-[calc(100vh-8rem)] self-start overflow-y-auto">
    <dl class="space-y-6">
      <div>
        <dt
          class="font-mono-display text-muted-foreground text-[10px] font-medium tracking-[0.15em] uppercase"
        >
          Last Updated
        </dt>
        <dd class="text-foreground mt-1 text-sm">{lastModified}</dd>
      </div>
      <div>
        <dt
          class="font-mono-display text-muted-foreground text-[10px] font-medium tracking-[0.15em] uppercase"
        >
          Reading Time
        </dt>
        <dd class="text-foreground mt-1 text-sm">{minutesRead}</dd>
      </div>
      {
        headings?.length && (
          <div>
            <dt class="font-mono-display text-muted-foreground text-[10px] font-medium tracking-[0.15em] uppercase">
              On This Page
            </dt>
            <dd class="mt-2">
              <TOC headings={headings} />
            </dd>
          </div>
        )
      }
    </dl>
  </div>
</aside>
