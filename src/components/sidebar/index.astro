---
import { parseClassNames } from '@/helpers/parseClassNames'
import type { NavigationItem } from '@/types'

interface Props {
  items: Array<NavigationItem>
}

const { items } = Astro.props

const { pathname } = Astro.url
---

<aside class="hidden w-64 py-6 md:block">
  <div class="sticky top-20 h-auto self-start">
    {
      items.map(({ display, children }) => {
        return (
          <div class="my-2">
            <nav class="block">{display}</nav>
            <div class="flex flex-col">
              {children?.map(({ display, route }) => {
                return (
                  <a
                    href={route}
                    class={parseClassNames([
                      'text-red-500',
                      pathname === route,
                    ])}
                  >
                    {display}
                  </a>
                )
              })}
            </div>
          </div>
        )
      })
    }
  </div>
</aside>
