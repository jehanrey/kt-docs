---
import type { MarkdownHeading } from 'astro'

interface Props {
  headings?: Array<MarkdownHeading>
  minutesRead?: string
  lastModified?: string
}

const { headings, minutesRead, lastModified } = Astro.props

const { pathname } = Astro.url
---

<aside class="hidden w-72 p-6 md:block">
  <div class="sticky top-20 self-start">
    <dl>
      <dt>Last Updated At:</dt>
      <dd>{lastModified}</dd>
      <dt>Reading Time</dt>
      <dd>{minutesRead}</dd>
      <dt>On This Page</dt>
      {
        headings?.length && (
          <dd>
            <ol>
              {headings.map(({ text, slug }) => (
                <li>
                  <a href={`${pathname}#${slug}`}>{text}</a>
                </li>
              ))}
            </ol>
          </dd>
        )
      }
    </dl>
  </div>
</aside>
